#!/bin/sh

color_paused="$WAL_CRITICAL"
color_playing="$WAL_LIGHT"

filter() {
	sed "/^volume:/d" | tac | sed -e "s/\\&/&amp;/g;s/\\[paused\\].*/<span color=\"$color_paused\">/g;s/\\[playing\\].*/<span color=\"$color_playing\">/g" | tr -d '\n' | sed -e "s/$/<\\/span>/g"
}

case $BLOCK_BUTTON in
    1) mpc toggle | filter ;;  # left click, pause/unpause
#    2) 	# middle click,
	3) ddspawn ncmpcpp >/dev/null && mpc status | filter ;;  # right click, show ncmpcpp
	#3) i3-msg "exec --no-startup-id $TERMINAL -c "floating-ncmpcpp" -e ncmpcpp; focus [title='$title']; floating enable" | mpc status | filter;;
#| filter && setsid "$TERMINAL" -e ncmpcpp & ;;
    4) mpc prev   | filter ;;  # scroll up, previous
    5) mpc next   | filter ;;  # scroll down, next
    *) mpc status | filter ;;
esac; exit
