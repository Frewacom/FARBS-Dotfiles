BIN_PATH=~/.dotfiles/.local/bin/ftools

# Since these files are created for every new user, we must delete them before
# attempting to symlink them from the dotfiles folder or it wont work, meaning everything will be fucked
rm ~/.bash_profile
rm ~/.bashrc

# At this point, we haven't set the PATH so none of our tools are available without full path
bash $BIN_PATH/symlink-dotfiles

# Install python packages
curl https://bootstrap.pypa.io/get-pip.py -o ~/get-pip.py
sudo python get-pip.py
rm ~/get-pip.py

sudo pip install pywal
sudo pip install wal-steam
sudo pip install requests
sudo pip install untangle

# Set locale to Swedish and add en_US to fix steam
sudo sed -i 's/#sv_SE.UTF-8 UTF-8/sv_SE.UTF-8 UTF-8/g' /etc/locale.gen
sudo sed -i 's/#en_US.UTF-8 UTF-8/en_US.UTF-8 UTF-8/g' /etc/locale.gen
sudo locale-gen
sudo localectl set-locale sv_SE.utf8

# Theme grub
sudo sed -i 's+#GRUB_THEME="/path/to/gfxtheme"+GRUB_THEME="/boot/grub/themes/arch-silence/theme.txt"+g' /etc/default/grub

# Update the grub config to enable microcode updates automatically
sudo grub-mkconfig -o /boot/grub/grub.cfg

# Install spacemacs
git clone https://github.com/syl20bnr/spacemacs ~/.emacs.d

# Install the pywal themer ewal
git clone https://github.com/emacsmirror/ewal.git ~/Repos/ewal

# Install FARBS 
git clone https://github.com/Frewacom/FARBS.git ~/Repos/FARBS

# Install RSS-Notifier
git clone https://github.com/Frewacom/RSS-Notifier.git ~/Repos/RSS-Notifier

# Install Pywalfox
git clone https://github.com/Frewacom/Pywalfox.git ~/Repos/Pywalfox

# Run themer 
bash $BIN_PATH/themer ~/.dotfiles/.local/share/wallpaper.png "post-setup"

rm ~/post-setup

# Update the remote url for the dotfile repo
cd ~/.dotfiles
git remote set-url origin git@github.com:Frewacom/FARBS-Dotfiles.git

cd ~/Repos/FARBS
git remote set-url origin git@github.com:Frewacom/FARBS.git

cd ~/Repos/RSS-Notifier
git remote set-url origin git@github.com:Frewacom/RSS-Notifier.git

cd ~/Repos/Pywalfox
git remote set-url origin git@github.com:Frewacom/Pywalfox.git


echo "Log out and log back in again for changes to take effect"


