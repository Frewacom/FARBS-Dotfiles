# vim: filetype=neomuttrc

auto_view text/html text/calendar application/ics
alternative_order text/html text/plain text/enriched text/*

macro index,pager <space> "<view-attachments><search>html<enter><enter><exit><enter>" "Open HTML attachment in browser"
macro index,pager J "<sidebar-next><sidebar-open>"
macro index,pager K "<sidebar-prev><sidebar-open>"
macro pager D <delete-message><previous-page>

bind index <pageup>   display-message
bind pager <pagedown> exit
bind index <Esc>      noop
bind pager <Esc>      noop
bind index <Esc>      exit
bind index h          exit
bind pager <Esc>      exit

unset help
set sort = threads
set sort_aux = reverse-last-date-received
set uncollapse_jump
set date_format = "%d/%m/%y %H:%M"

unset confirmappend
set quit
unset mark_old
unset mime_forward
set askcc
set fast_reply

ignore *
unignore to cc
unignore organization organisation x-mailer: x-newsreader: x-mailing-list:
unignore posted-to:

# color index_author bold default default "~f uu.se"
# color index_subject bold default default "~f uu.se"

color index           bold white default "~N"
color index_author    bold white default "~N"
color index_subject   bold white default "~N"

set abort_key = <Esc>
set abort_backspace = no

set sidebar_visible = no
set sidebar_short_path

set ts_enabled = yes
set ts_icon_format = "neomutt: %?m?%m messages&no messages?%?n? (%n new)?"
set index_format = " %S  %T  %D %-35.35L %?X?& ? %s %> "
# (%?l?%4l&%4c?)

# not addressed to me, only to me, appear in To:, appear in CC, \
# sent by me, mailing list, appear in Reply-To
set to_chars="\
 \
 \
\
\
\
\
\
"

# mail is tagged, important, deletion, attachments marked for deletion, \
# been replied to, old, new, thread old, thread new, %S expando, %Z expando
set flag_chars = "     "

# color status black white "^[^\s]+"
color status color6 black

# whitespaces are important! , , ,  are used as invisible "control characters"
set pager_format= "\
 PAGER \
\
%?X? ?\
%s \
%?T?%T?\
%* \
\
\
%n | \
%D\
\
 %P \
 %cr \
"

# whitespaces are important! , , ,  are used as invisible "control characters"
set status_format = "\
 INDEX \
\
%f\
\
%?r?| %r?\
%> \
\
%?d?  %d?%?d? | ?\
%?p?  %p?%?p? | ?\
%?F?  %F?%?F? | ?\
%?t?  %t?%?t? | ?\
%?n?  %n?%?n? | ?\
  %m\
\
 %P \
 %l \
"

set vfolder_format = " %N %?n?%3n&   ?  %8m  · %f"
set attach_format = "%u%D  %T%-75.75d %?T?%&   ? %5s · %m/%M"

# unchanged mailbox, changed, read only, attach mode
set status_chars = " +"
ifdef crypt_chars set crypt_chars = " "


set hidden_tags = "unread,draft,flagged,passed,replied,attachment,signed,encrypted"
tag-transforms "replied" "↻ "  \
               "encrytpted" "" \
               "signed" "" \
               "attachment" "" \

# The formats must start with 'G' and the entire sequence is case sensitive.
tag-formats "replied" "GR" \
            "encrypted" "GE" \
            "signed" "GS" \
            "attachment" "GA" \

color status black black
color status black color1 '(.*?)' 1
color status color6 black '(.*?)' 1
color status color6 black '\| \+ '
color status white black '(.*?)' 1
color status black color4 '( \S+.)' 1
color status black color1 '\s\S+.$'
